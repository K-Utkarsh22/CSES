#include <bits/stdc++.h>
using namespace std;
long long m=1e9+7;
long long p(long long b,long long e)
{
    long long r=1;
    b%=m;
    while(e>0)
    {
        if(e&1)r=(r*b)%m;
        b=(b*b)%m;
        e>>=1;
    }
    return r;
}
long long v(long long n)
{
    return p(n,m-2);
}
long long h(long long n)
{
    long long r=n;
    for(long long j=2;j*j<=n;j++)
    {
        if(n%j==0)
        {
            while(n%j==0)n/=j;
            r-=r/j;
        }
    }
    if(n>1)r-=r/n;
    return r;
}
int main()
{
    long long n,k;
    cin>>n>>k;
    long long r=0;
    for(long long j=1;j*j<=n;j++)
    {
        if(n%j==0)
        {
            r=(r+h(n/j)*p(k,j))%m;
            if(j*j!=n)r=(r+h(j)*p(k,n/j))%m;
        }
    }
    r=(r*v(n))%m;
    cout<<r<<"\n";
    return 0;
}
