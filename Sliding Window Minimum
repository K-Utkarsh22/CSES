#include <bits/stdc++.h>
using namespace std;
int main()
{
    int n,k;cin>>n>>k;
    long long x,a,b,c;cin>>x>>a>>b>>c;
    vector<long long> v(n);
    v[0]=x;
    for(int i=1;i<n;i++) v[i]=(a*v[i-1]+b)%c;
    deque<int> d;
    long long r=0;
    for(int i=0;i<n;i++)
    {
        if(!d.empty()&&d.front()<=i-k)
        {
            d.pop_front();
        }
        while(!d.empty()&&v[d.back()]>=v[i])
        {
            d.pop_back();
        }
        d.push_back(i);
        if(i>=k-1)
        {
            r^=v[d.front()];
        }
    }
    cout<<r<<"\n";
}
